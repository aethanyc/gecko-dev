<!doctype html>
<!--
     Any copyright is dedicated to the Public Domain.
     http://creativecommons.org/publicdomain/zero/1.0/
-->
<meta charset="utf-8">
<title>Table grid items with padding-top, definite width, percentage height, and box-sizing:content-box, don't grow on incremental relayout</title>
<link rel="author" href="mailto:mats@mozilla.com">
<link rel="author" href="mailto:emilio@crisal.io">
<link rel="author" href="mailto:tlin@mozilla.com">
<link rel="author" href="https://mozilla.org">
<link rel="help" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1521088">
<link rel="match" href="table-grid-item-dynamic-004-ref.html">
<style>
html,body {
  color:black; background-color:white; font:16px/1 monospace; padding:0; margin:0;
}

.outer {
  display: grid;
  height: 100px;
  background-color: lime;
}

.table {
  border-spacing: 0px;
  padding-top: 50px;
  width: 500px;
  height: 100%;
  /*   height: 100px; */
  box-sizing: content-box;
  background-color: yellow;
}
</style>

<div class="outer">
  <div class="table" style="background: gold">
    <div style="height: 40px; width: 40px; background: blue"></div>
  </div>

  <table class="table">
    <tr>
      <td style="height: 40px; padding: 0"></td>
    </tr>
  </table>
</div>

<script>
/* onload = function() {
 *   let grid = document.querySelector("div");
 *   grid.getBoundingClientRect();
 *   document.body.style.width = "50vw";
 *   grid.getBoundingClientRect();
 *   document.body.style.width = "";
 * } */
</script>
